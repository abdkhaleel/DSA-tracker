<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DSA Pattern Tracker</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }
        
        .container {
            max-width: 1400px;
            margin: 0 auto;
            background: white;
            border-radius: 16px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            overflow: hidden;
        }
        
        .header {
            background: linear-gradient(90deg, #2d3748, #4a5568);
            color: white;
            padding: 30px;
            text-align: center;
        }
        
        .header h1 {
            font-size: 2.5rem;
            font-weight: 700;
            margin-bottom: 10px;
        }
        
        .header p {
            font-size: 1.1rem;
            opacity: 0.9;
        }
        
        .controls {
            padding: 20px 30px;
            background: #f8fafc;
            border-bottom: 1px solid #e2e8f0;
            display: flex;
            gap: 20px;
            align-items: center;
            flex-wrap: wrap;
        }
        
        .export-btn {
            background: linear-gradient(90deg, #48bb78, #38a169);
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 600;
            transition: transform 0.2s;
        }
        
        .export-btn:hover {
            transform: translateY(-2px);
        }
        
        .filter-group {
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .filter-group label {
            font-weight: 600;
            color: #4a5568;
        }
        
        .filter-select {
            padding: 8px 12px;
            border: 2px solid #e2e8f0;
            border-radius: 6px;
            background: white;
        }
        
        .stats {
            display: flex;
            gap: 20px;
            margin-left: auto;
        }
        
        .stat-item {
            text-align: center;
            padding: 10px 15px;
            background: white;
            border-radius: 8px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }
        
        .stat-number {
            font-size: 1.5rem;
            font-weight: 700;
            color: #2d3748;
        }
        
        .stat-label {
            font-size: 0.8rem;
            color: #718096;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }
        
        .table-container {
            overflow-x: auto;
            max-height: 70vh;
        }
        
        table {
            width: 100%;
            border-collapse: collapse;
        }
        
        th {
            background: linear-gradient(90deg, #4a5568, #2d3748);
            color: white;
            padding: 15px 12px;
            text-align: left;
            font-weight: 600;
            position: sticky;
            top: 0;
            z-index: 10;
        }
        
        td {
            padding: 12px;
            border-bottom: 1px solid #e2e8f0;
            vertical-align: top;
        }
        
        tr:hover {
            background: #f7fafc;
        }
        
        .topic-cell {
            font-weight: 600;
            color: #2d3748;
            min-width: 120px;
        }
        
        .priority-high { background: linear-gradient(90deg, #fed7d7, #feb2b2); }
        .priority-medium { background: linear-gradient(90deg, #feebc8, #fbd38d); }
        .priority-low { background: linear-gradient(90deg, #c6f6d5, #9ae6b4); }
        
        .pattern-cell {
            font-weight: 500;
            min-width: 150px;
        }
        
        .description-cell {
            max-width: 200px;
            font-size: 0.9rem;
            color: #4a5568;
        }
        
        .problems-cell {
            max-width: 250px;
            font-size: 0.9rem;
            color: #2d3748;
        }
        
        .status-select {
            width: 100%;
            padding: 6px 8px;
            border: 2px solid #e2e8f0;
            border-radius: 4px;
            background: white;
            font-size: 0.9rem;
        }
        
        .status-not-started { background: #fed7d7; color: #c53030; }
        .status-in-progress { background: #feebc8; color: #dd6b20; }
        .status-completed { background: #c6f6d5; color: #2f855a; }
        
        .priority-badge {
            display: inline-block;
            padding: 4px 8px;
            border-radius: 12px;
            font-size: 0.7rem;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }
        
        .badge-high { background: #fed7d7; color: #c53030; }
        .badge-medium { background: #feebc8; color: #dd6b20; }
        .badge-low { background: #c6f6d5; color: #2f855a; }
        
        @media (max-width: 768px) {
            .controls {
                flex-direction: column;
                align-items: stretch;
            }
            
            .stats {
                margin-left: 0;
                justify-content: center;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ðŸŽ¯ DSA Pattern Mastery Tracker</h1>
            <p>Prioritized roadmap based on your LeetCode skill gaps</p>
        </div>
        
        <div class="controls">
            <button class="export-btn" onclick="exportToExcel()">ðŸ“Š Export to Excel</button>
            <button class="export-btn" onclick="saveProgress()">ðŸ’¾ Save Progress</button>
            <button class="export-btn" onclick="document.getElementById('loadFile').click()">ðŸ“‚ Load Progress</button>
            <input type="file" id="loadFile" accept=".json" onchange="loadProgress(event)" style="display: none;">
            
            <div class="filter-group">
                <label>Filter by Topic:</label>
                <select class="filter-select" id="topicFilter" onchange="filterTable()">
                    <option value="">All Topics</option>
                </select>
            </div>
            
            <div class="filter-group">
                <label>Filter by Status:</label>
                <select class="filter-select" id="statusFilter" onchange="filterTable()">
                    <option value="">All Status</option>
                    <option value="Not Started">Not Started</option>
                    <option value="In Progress">In Progress</option>
                    <option value="Completed">Completed</option>
                </select>
            </div>
            
            <div class="filter-group">
                <label>Filter by Priority:</label>
                <select class="filter-select" id="priorityFilter" onchange="filterTable()">
                    <option value="">All Priority</option>
                    <option value="High">High Priority</option>
                    <option value="Medium">Medium Priority</option>
                    <option value="Low">Low Priority</option>
                </select>
            </div>
            
            <div class="stats">
                <div class="stat-item">
                    <div class="stat-number" id="totalPatterns">0</div>
                    <div class="stat-label">Total Patterns</div>
                </div>
                <div class="stat-item">
                    <div class="stat-number" id="completedPatterns">0</div>
                    <div class="stat-label">Completed</div>
                </div>
                <div class="stat-item">
                    <div class="stat-number" id="progressPercent">0%</div>
                    <div class="stat-label">Progress</div>
                </div>
            </div>
        </div>
        
        <div class="table-container">
            <table id="dsaTable">
                <thead>
                    <tr>
                        <th>Priority</th>
                        <th>Topic</th>
                        <th>Pattern</th>
                        <th>Description</th>
                        <th>Problem Types</th>
                        <th>Status</th>
                    </tr>
                </thead>
                <tbody id="tableBody">
                </tbody>
            </table>
        </div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.18.5/xlsx.full.min.js"></script>
    <script>
        // DSA patterns data prioritized by weakness
        const dsaData = [
            // HIGH PRIORITY - Topics you're weak in
            { topic: "Geometry", pattern: "Orientation / Area", description: "Convex hull", problemTypes: "Graham scan", priority: "High" },
            { topic: "Geometry", pattern: "Line Sweep", description: "Interval problems", problemTypes: "Skyline", priority: "High" },
            { topic: "Geometry", pattern: "Distance / Angle", description: "Nearest points", problemTypes: "Closest pair", priority: "High" },
            
            { topic: "Game Theory", pattern: "Minimax", description: "2 player games", problemTypes: "Nim game, XOR win", priority: "High" },
            { topic: "Game Theory", pattern: "DP + Turns", description: "Optimal moves", problemTypes: "Predict winner", priority: "High" },
            
            { topic: "Segment Trees & BIT", pattern: "Range Queries", description: "Sum, min, max", problemTypes: "Range sum, lazy update", priority: "High" },
            { topic: "Segment Trees & BIT", pattern: "Point Updates", description: "Update values", problemTypes: "Num of greater elements", priority: "High" },
            { topic: "Segment Trees & BIT", pattern: "BIT", description: "Prefix sum", problemTypes: "Inversion count", priority: "High" },
            
            // MEDIUM PRIORITY - Topics you have some experience but need more
            { topic: "Tries", pattern: "Prefix Matching", description: "Autocomplete", problemTypes: "Longest common prefix", priority: "Medium" },
            { topic: "Tries", pattern: "Bit Trie", description: "XOR patterns", problemTypes: "Max XOR pair", priority: "Medium" },
            { topic: "Tries", pattern: "Trie + Backtracking", description: "Word search", problemTypes: "Boggle game", priority: "Medium" },
            
            { topic: "Union Find", pattern: "Connectivity", description: "Disjoint sets", problemTypes: "Redundant connection, Number of provinces", priority: "Medium" },
            { topic: "Union Find", pattern: "Path Compression", description: "Optimize find", problemTypes: "Most stones removed", priority: "Medium" },
            
            { topic: "Divide and Conquer", pattern: "Merge Sort Pattern", description: "Split and merge", problemTypes: "Merge k sorted arrays, Count inversions", priority: "Medium" },
            { topic: "Divide and Conquer", pattern: "Quick Select", description: "Kth element", problemTypes: "Kth largest element", priority: "Medium" },
            
            { topic: "Binary Search", pattern: "Basic Binary Search", description: "Find element", problemTypes: "Classic find in sorted array", priority: "Medium" },
            { topic: "Binary Search", pattern: "First/Last Occurrence", description: "Boundary problems", problemTypes: "Rotated array search", priority: "Medium" },
            { topic: "Binary Search", pattern: "Search on Answer", description: "Binary over answer space", problemTypes: "Min max capacity, split array", priority: "Medium" },
            
            { topic: "Heap & Priority Queue", pattern: "Min/Max Heap", description: "Kth element", problemTypes: "Top K elements, Median finder", priority: "Medium" },
            { topic: "Heap & Priority Queue", pattern: "Heap + Greedy", description: "Pick best quickly", problemTypes: "Merge files, min cost ropes", priority: "Medium" },
            { topic: "Heap & Priority Queue", pattern: "Custom Comparator", description: "Order elements", problemTypes: "Reorder logs, largest number", priority: "Medium" },
            
            { topic: "Breadth-First Search", pattern: "BFS with Queue", description: "Level-order", problemTypes: "Shortest path, word ladder", priority: "Medium" },
            { topic: "Breadth-First Search", pattern: "Multi-source BFS", description: "Multiple starting points", problemTypes: "Rotten oranges, 01 Matrix", priority: "Medium" },
            
            { topic: "Graphs", pattern: "DFS/BFS", description: "Traverse graph", problemTypes: "Number of islands, components", priority: "Medium" },
            { topic: "Graphs", pattern: "Topo Sort", description: "Ordering", problemTypes: "Course schedule", priority: "Medium" },
            { topic: "Graphs", pattern: "Dijkstra / BFS", description: "Shortest Path", problemTypes: "Min cost path", priority: "Medium" },
            { topic: "Graphs", pattern: "Bellman-Ford", description: "Negative cycles", problemTypes: "Arbitrage", priority: "Medium" },
            { topic: "Graphs", pattern: "DP on Graph", description: "Paths", problemTypes: "Longest path in DAG", priority: "Medium" },
            
            // LOW PRIORITY - Topics you're already strong in
            { topic: "Arrays", pattern: "Prefix Sum", description: "Preprocess sum or range data", problemTypes: "Subarray sum, range updates", priority: "Low" },
            { topic: "Arrays", pattern: "Two Pointers", description: "Opposite directions or fast/slow", problemTypes: "Pair sum, remove duplicates", priority: "Low" },
            { topic: "Arrays", pattern: "Sliding Window", description: "Fixed or dynamic window", problemTypes: "Max sum, longest subarray", priority: "Low" },
            { topic: "Arrays", pattern: "Sorting + Greedy", description: "Optimize order", problemTypes: "Min platforms, merge intervals", priority: "Low" },
            { topic: "Arrays", pattern: "Frequency Counting", description: "Count elements", problemTypes: "Majority element, k-most freq", priority: "Low" },
            { topic: "Arrays", pattern: "Kadane's Algorithm", description: "Max sum subarray", problemTypes: "Classic pattern", priority: "Low" },
            { topic: "Arrays", pattern: "Cyclic Sort", description: "For bounded index problems", problemTypes: "Missing numbers, duplicates", priority: "Low" },
            
            { topic: "Strings", pattern: "Character Frequency", description: "Count char occurrences", problemTypes: "Valid anagrams, rearrange strings", priority: "Low" },
            { topic: "Strings", pattern: "Two Pointers", description: "Compare substrings or match", problemTypes: "Palindrome check, reverse words", priority: "Low" },
            { topic: "Strings", pattern: "Stack-based", description: "Undo or reduction", problemTypes: "Valid parentheses, decode strings", priority: "Low" },
            { topic: "Strings", pattern: "Hashing", description: "Substring matches", problemTypes: "Longest substring without repeat", priority: "Low" },
            { topic: "Strings", pattern: "Sliding Window", description: "Substrings with constraints", problemTypes: "Min window, unique substrings", priority: "Low" },
            
            { topic: "Dynamic Programming", pattern: "1D DP", description: "dp[i] = f(i-1), f(i-2)...", problemTypes: "Climb stairs, house robber", priority: "Low" },
            { topic: "Dynamic Programming", pattern: "2D DP", description: "dp[i][j]", problemTypes: "LCS, edit distance", priority: "Low" },
            { topic: "Dynamic Programming", pattern: "Knapsack", description: "0/1, unbounded", problemTypes: "Max value under weight limit", priority: "Low" },
            { topic: "Dynamic Programming", pattern: "DP on Strings", description: "Substring comparison", problemTypes: "Palindromic subsequence", priority: "Low" },
            { topic: "Dynamic Programming", pattern: "Bitmask DP", description: "Track visited states", problemTypes: "Travelling salesman", priority: "Low" },
            { topic: "Dynamic Programming", pattern: "Digit DP", description: "Digit by digit decisions", problemTypes: "Count special numbers", priority: "Low" },
            
            { topic: "Hash Table", pattern: "HashMap", description: "Count/Track frequencies", problemTypes: "Anagram group, 2 sum", priority: "Low" },
            { topic: "Hash Table", pattern: "HashSet", description: "Uniqueness", problemTypes: "Longest consecutive seq", priority: "Low" },
            { topic: "Hash Table", pattern: "Prefix Sum + Map", description: "Track sums", problemTypes: "Subarray sum equals K", priority: "Low" },
            
            { topic: "Stack", pattern: "Classic Stack", description: "LIFO", problemTypes: "Valid parentheses", priority: "Low" },
            { topic: "Stack", pattern: "Monotonic Stack", description: "Next greater/smaller", problemTypes: "Histogram, daily temps", priority: "Low" },
            { topic: "Stack", pattern: "Stack Simulation", description: "Expression parsing", problemTypes: "Decode strings, calc expressions", priority: "Low" },
            
            { topic: "Trees", pattern: "DFS Traversal", description: "Inorder, Preorder", problemTypes: "Tree to BST, serialize tree", priority: "Low" },
            { topic: "Trees", pattern: "BFS (Level Order)", description: "Queue based", problemTypes: "Zigzag, max width", priority: "Low" },
            { topic: "Trees", pattern: "Path-Based", description: "Root to leaf", problemTypes: "Max path sum, sum of paths", priority: "Low" },
            { topic: "Trees", pattern: "Recursive Subtree", description: "Bottom-up merge info", problemTypes: "LCA, balanced BT", priority: "Low" },
            { topic: "Trees", pattern: "DP on Trees", description: "With state", problemTypes: "Robbery in tree, longest path", priority: "Low" },
            
            { topic: "Math", pattern: "GCD / LCM", description: "Number relations", problemTypes: "Array divisible", priority: "Low" },
            { topic: "Math", pattern: "Modular Arithmetic", description: "Big nums", problemTypes: "Pow(x, n), factorial mod p", priority: "Low" },
            { topic: "Math", pattern: "Prime Sieves", description: "Count / list primes", problemTypes: "Sieve of Eratosthenes", priority: "Low" },
            { topic: "Math", pattern: "Combinatorics", description: "nCr, permutations", problemTypes: "Unique paths, lotto", priority: "Low" },
            
            { topic: "Bit Manipulation", pattern: "Basic Bit Ops", description: "&, |, ^, <<, >>", problemTypes: "Single number, power of 2", priority: "Low" },
            { topic: "Bit Manipulation", pattern: "Subset Masking", description: "Combinations", problemTypes: "Count special subsets", priority: "Low" },
            { topic: "Bit Manipulation", pattern: "XOR Properties", description: "Uniques", problemTypes: "2 non-repeating elements", priority: "Low" },
            
            { topic: "Greedy", pattern: "Earliest Finish Time", description: "Interval Scheduling", problemTypes: "Activity selection", priority: "Low" },
            { topic: "Greedy", pattern: "Minimum Resource Use", description: "Combine smallest first", problemTypes: "Huffman coding", priority: "Low" },
            { topic: "Greedy", pattern: "Greedy with Heap", description: "Dynamic best pick", problemTypes: "Rearrange string, min cost", priority: "Low" },
            
            { topic: "Recursion & Backtracking", pattern: "Basic Recursion", description: "Explore all states", problemTypes: "Factorial, subsets", priority: "Low" },
            { topic: "Recursion & Backtracking", pattern: "Backtracking", description: "DFS with undo", problemTypes: "Sudoku, permutations", priority: "Low" },
            { topic: "Recursion & Backtracking", pattern: "N-ary Tree Recursion", description: "Combinatorial branching", problemTypes: "Word break, expression add ops", priority: "Low" }
        ];

        let filteredData = [...dsaData];
        let statusData = {};

        // Save progress to a downloadable JSON file
        function saveProgress() {
            const progressData = {
                statusData: statusData,
                timestamp: new Date().toISOString()
            };
            
            const dataStr = JSON.stringify(progressData, null, 2);
            const dataUri = 'data:application/json;charset=utf-8,'+ encodeURIComponent(dataStr);
            
            const exportFileDefaultName = `DSA_Progress_${new Date().toISOString().split('T')[0]}.json`;
            
            const linkElement = document.createElement('a');
            linkElement.setAttribute('href', dataUri);
            linkElement.setAttribute('download', exportFileDefaultName);
            linkElement.click();
        }

        // Load progress from uploaded JSON file
        function loadProgress(event) {
            const file = event.target.files[0];
            if (!file) return;
            
            const reader = new FileReader();
            reader.onload = function(e) {
                try {
                    const progressData = JSON.parse(e.target.result);
                    statusData = progressData.statusData || {};
                    renderTable();
                    updateStats();
                    alert('Progress loaded successfully!');
                } catch (error) {
                    alert('Error loading progress file. Please check the file format.');
                }
            };
            reader.readAsText(file);
        }

        function initializeTable() {
            const tableBody = document.getElementById('tableBody');
            const topicFilter = document.getElementById('topicFilter');
            
            // Initialize status for each pattern
            dsaData.forEach((item, index) => {
                statusData[index] = 'Not Started';
            });
            
            // Populate topic filter options
            const uniqueTopics = [...new Set(dsaData.map(item => item.topic))];
            uniqueTopics.forEach(topic => {
                const option = document.createElement('option');
                option.value = topic;
                option.textContent = topic;
                topicFilter.appendChild(option);
            });
            
            renderTable();
            updateStats();
        }

        function renderTable() {
            const tableBody = document.getElementById('tableBody');
            tableBody.innerHTML = '';
            
            filteredData.forEach((item, originalIndex) => {
                const dataIndex = dsaData.indexOf(item);
                const row = document.createElement('tr');
                const priorityClass = item.priority.toLowerCase();
                row.className = `priority-${priorityClass}`;
                
                row.innerHTML = `
                    <td>
                        <span class="priority-badge badge-${priorityClass}">
                            ${item.priority} Priority
                        </span>
                    </td>
                    <td class="topic-cell">${item.topic}</td>
                    <td class="pattern-cell">${item.pattern}</td>
                    <td class="description-cell">${item.description}</td>
                    <td class="problems-cell">${item.problemTypes}</td>
                    <td>
                        <select class="status-select status-${statusData[dataIndex].toLowerCase().replace(' ', '-')}" 
                                onchange="updateStatus(${dataIndex}, this.value)">
                            <option value="Not Started" ${statusData[dataIndex] === 'Not Started' ? 'selected' : ''}>Not Started</option>
                            <option value="In Progress" ${statusData[dataIndex] === 'In Progress' ? 'selected' : ''}>In Progress</option>
                            <option value="Completed" ${statusData[dataIndex] === 'Completed' ? 'selected' : ''}>Completed</option>
                        </select>
                    </td>
                `;
                
                tableBody.appendChild(row);
            });
        }

        function updateStatus(index, newStatus) {
            statusData[index] = newStatus;
            const select = event.target;
            select.className = `status-select status-${newStatus.toLowerCase().replace(' ', '-')}`;
            updateStats();
        }

        function filterTable() {
            const topicFilter = document.getElementById('topicFilter').value;
            const statusFilter = document.getElementById('statusFilter').value;
            const priorityFilter = document.getElementById('priorityFilter').value;
            
            filteredData = dsaData.filter(item => {
                const dataIndex = dsaData.indexOf(item);
                const matchesTopic = !topicFilter || item.topic === topicFilter;
                const matchesStatus = !statusFilter || statusData[dataIndex] === statusFilter;
                const matchesPriority = !priorityFilter || item.priority === priorityFilter;
                
                return matchesTopic && matchesStatus && matchesPriority;
            });
            
            renderTable();
        }

        function updateStats() {
            const totalPatterns = dsaData.length;
            const completedCount = Object.values(statusData).filter(status => status === 'Completed').length;
            const progressPercent = Math.round((completedCount / totalPatterns) * 100);
            
            document.getElementById('totalPatterns').textContent = totalPatterns;
            document.getElementById('completedPatterns').textContent = completedCount;
            document.getElementById('progressPercent').textContent = progressPercent + '%';
        }

        function exportToExcel() {
            const exportData = dsaData.map((item, index) => ({
                'Priority': item.priority + ' Priority',
                'Topic': item.topic,
                'Pattern': item.pattern,
                'Description': item.description,
                'Problem Types': item.problemTypes,
                'Status': statusData[index]
            }));
            
            const ws = XLSX.utils.json_to_sheet(exportData);
            const wb = XLSX.utils.book_new();
            XLSX.utils.book_append_sheet(wb, ws, "DSA Patterns");
            
            // Auto-size columns
            const colWidths = [
                { wch: 15 }, // Priority
                { wch: 20 }, // Topic
                { wch: 25 }, // Pattern
                { wch: 30 }, // Description
                { wch: 40 }, // Problem Types
                { wch: 12 }  // Status
            ];
            ws['!cols'] = colWidths;
            
            XLSX.writeFile(wb, "DSA_Pattern_Tracker.xlsx");
        }

        // Initialize the table when the page loads
        initializeTable();
    </script>
</body>
</html>